# ğŸ“š Sorting, Searching & Counting in Arrays

These methods help you **organize**, **find**, and **analyze** data inside arrays.
Some **mutate** the array, while others **return a new value** without changing the original.

## âš ï¸ Mutating vs Non-mutating methods

| Category             | Methods                                    | Mutates Original Array?   |
| -------------------- | ------------------------------------------ | ------------------------- |
| Sorting / Reversing  | `sort()`, `reverse()`                      | âœ… Yes                    |
| Searching / Counting | `includes()`, `indexOf()`, `lastIndexOf()` | âŒ No                     |
| Flattening / Mapping | `flat()`, `flatMap()`                      | âŒ No (returns new array) |

---

## ğŸ”¹ 1. `sort()` â€” Sort elements (Mutates!)

**Purpose:**
Sorts array elements **in place** (mutates the original array).
By default, it sorts **as strings**, not numbers â€” so use a **compare function** for numeric or custom sorting.

**Syntax:**

```js
arr.sort([compareFunction]);
```

**Examples:**

```js
// Default (string) sort
let names = ["Banana", "Apple", "Cherry"];
names.sort();
console.log(names); // ['Apple', 'Banana', 'Cherry']

// Numeric sort
let nums = [40, 100, 1, 5, 25];
nums.sort((a, b) => a - b); // ascending
console.log(nums); // [1, 5, 25, 40, 100]

// Descending order
nums.sort((a, b) => b - a);
console.log(nums); // [100, 40, 25, 5, 1]
```

**Important:**

-   Mutates the original array.
-   Sorts elements as **strings by default** (`"10" < "2"` â†’ true).
-   Use `(a,b) => a - b` for numeric ascending, `(b,a)` for descending.
-   Returns the **same array reference** (sorted).

---

## ğŸ”¹ 2. `reverse()` â€” Reverse the array order (Mutates!)

**Purpose:**
Reverses the order of elements **in place**.

**Syntax:**

```js
arr.reverse();
```

**Example:**

```js
let arr = [1, 2, 3, 4];
arr.reverse();
console.log(arr); // [4, 3, 2, 1]
```

**Key Points:**

-   Mutates the original array.
-   Returns the same reversed array.
-   Often used after sorting for descending order:

    ```js
    arr.sort((a, b) => a - b).reverse();
    ```

---

## ğŸ”¹ 3. `includes()` â€” Check if an element exists

**Purpose:**
Checks if a specific element exists in an array. Returns `true` or `false`.

**Syntax:**

```js
arr.includes(valueToFind[, fromIndex])
```

**Example:**

```js
let arr = [1, 2, 3, 4];
console.log(arr.includes(3)); // true
console.log(arr.includes(5)); // false
console.log(arr.includes(1, 2)); // false (start search from index 2)
```

**Key Points:**

-   Returns boolean (`true` or `false`).
-   Uses **strict equality (`===`)**.
-   Supports negative `fromIndex` (counts from end).

---

## ğŸ”¹ 4. `indexOf()` â€” Find the first index of an element

**Purpose:**
Returns the **first index** where the given element is found, or `-1` if not found.

**Syntax:**

```js
arr.indexOf(searchElement[, fromIndex])
```

**Example:**

```js
let letters = ["a", "b", "c", "a", "b"];
console.log(letters.indexOf("b")); // 1
console.log(letters.indexOf("b", 2)); // 4 (starts from index 2)
console.log(letters.indexOf("z")); // -1 (not found)
```

**Key Points:**

-   Searches **from left to right**.
-   Case-sensitive.
-   Returns `-1` if not found.

---

## ğŸ”¹ 5. `lastIndexOf()` â€” Find the last index of an element

**Purpose:**
Same as `indexOf()`, but searches **from the end** of the array.

**Syntax:**

```js
arr.lastIndexOf(searchElement[, fromIndex])
```

**Example:**

```js
let letters = ["a", "b", "c", "a", "b"];
console.log(letters.lastIndexOf("b")); // 4
console.log(letters.lastIndexOf("b", 3)); // 1 (search backward from index 3)
```

**Key Points:**

-   Searches **right to left**.
-   Returns `-1` if not found.
-   Useful for duplicates or reverse searching.

---

## ğŸ”¹ 6. `flat()` â€” Flatten nested arrays

**Purpose:**
Flattens (unwraps) nested arrays up to a given **depth** level.

**Syntax:**

```js
arr.flat([depth]);
```

-   `depth` = number of levels to flatten (default is `1`)

**Example:**

```js
let arr = [1, [2, [3, [4]]]];
console.log(arr.flat(1)); // [1, 2, [3, [4]]]
console.log(arr.flat(2)); // [1, 2, 3, [4]]
console.log(arr.flat(Infinity)); // [1, 2, 3, 4]
```

**Key Points:**

-   Returns a **new array** (does not mutate).
-   Use `Infinity` to fully flatten deeply nested arrays.
-   Removes empty slots (sparse holes) as well:

    ```js
    [1, , 2].flat(); // [1, 2]
    ```

---

## ğŸ”¹ 7. `flatMap()` â€” Map + Flatten (1 Level)

**Purpose:**
Performs a **map operation** followed by a **flatten (depth 1)** â€” all in one step.

**Syntax:**

```js
arr.flatMap(callbackFn[, thisArg])
```

**Example:**

```js
let arr = [1, 2, 3];
let doubled = arr.flatMap((x) => [x, x * 2]);
console.log(doubled); // [1, 2, 2, 4, 3, 6]
```

Another example (extracting subarrays):

```js
let users = [
    { name: "Alice", items: ["book", "pen"] },
    { name: "Bob", items: ["phone"] }
];
let allItems = users.flatMap((u) => u.items);
console.log(allItems); // ['book', 'pen', 'phone']
```

**Key Points:**

-   Combines `.map()` and `.flat(1)` in one efficient operation.
-   Returns a **new flattened array**.
-   Depth is always **1** (not configurable).
-   Does **not mutate** the original array.

---

## ğŸ§  Summary Table

| Method          | Purpose                 | Mutates? | Returns               | Example                          | Output      |
| --------------- | ----------------------- | -------- | --------------------- | -------------------------------- | ----------- |
| `sort()`        | Sort elements           | âœ… Yes   | Same array (sorted)   | `[3,1,2].sort()`                 | `[1,2,3]`   |
| `reverse()`     | Reverse order           | âœ… Yes   | Same array (reversed) | `[1,2,3].reverse()`              | `[3,2,1]`   |
| `includes()`    | Check existence         | âŒ No    | `true` / `false`      | `[1,2,3].includes(2)`            | `true`      |
| `indexOf()`     | First index of element  | âŒ No    | Index / `-1`          | `['a','b','a'].indexOf('a')`     | `0`         |
| `lastIndexOf()` | Last index of element   | âŒ No    | Index / `-1`          | `['a','b','a'].lastIndexOf('a')` | `2`         |
| `flat()`        | Flatten nested arrays   | âŒ No    | New array             | `[1,[2,[3]]].flat(2)`            | `[1,2,3]`   |
| `flatMap()`     | Map + flatten (1 level) | âŒ No    | New array             | `[1,2].flatMap(x=>[x,x*2])`      | `[1,2,2,4]` |

---

## ğŸ§© In Short

-   ğŸ§® **Sorting**: `sort()`, `reverse()` â†’ changes the array.
-   ğŸ” **Searching**: `includes()`, `indexOf()`, `lastIndexOf()` â†’ helps find data.
-   ğŸª† **Flattening**: `flat()`, `flatMap()` â†’ simplify nested structures.
