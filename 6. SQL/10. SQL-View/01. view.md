## ğŸ§  What is a View?

A **View** in SQL is a **virtual table** that doesnâ€™t store data itself â€” it **stores a SQL query** that fetches data from one or more real tables.
You can think of it as a **saved SELECT statement** that you can query like a normal table.

### ğŸ” Example

Suppose you have a table:

```sql
CREATE TABLE employees (
  emp_id INT,
  name VARCHAR(50),
  department VARCHAR(50),
  salary DECIMAL(10,2)
);
```

Now, if you frequently need to see only employee names and departments, you can create a **View** like this:

```sql
CREATE VIEW employee_summary AS
SELECT name, department
FROM employees;
```

Now, you can use it like a table:

```sql
SELECT * FROM employee_summary;
```

âœ… Output will show only `name` and `department`.

---

## ğŸ§© Why Use a View?

Database administrators and developers use Views to solve **two main challenges**:

1. **Simplify Complex Queries**

    - Instead of writing long `JOIN`, `GROUP BY`, or subqueries repeatedly, you can **store them once in a view**.
    - When you query the view, it automatically executes the saved SQL.

2. **Enhance Data Security**

    - Restrict users to specific columns or rows.
    - For example, you can create a view that hides salary details from certain users.

---

## ğŸª„ Key Features of Views

| Feature               | Description                                               |
| --------------------- | --------------------------------------------------------- |
| **Virtual Table**     | Doesnâ€™t store actual data, only the SQL query definition. |
| **Dynamic Data**      | Always shows the latest data from the base tables.        |
| **Simplifies Access** | Users query the view like a normal table.                 |
| **Security Layer**    | Restricts access to specific columns/rows.                |

---

## ğŸ§± Types of Views

Letâ€™s understand the **four main types** visually:

---

### 1. ğŸ§© **Simple View**

-   Based on **one table**.
-   No `GROUP BY`, `JOIN`, or functions.

ğŸ“˜ Example:

```sql
CREATE VIEW emp_dept AS
SELECT name, department FROM employees;
```

**Visual:**

| employees table | emp_dept view |            |        |     |      |            |
| --------------- | ------------- | ---------- | ------ | --- | ---- | ---------- |
| id              | name          | department | salary | â†’   | name | department |

---

### 2. ğŸ”— **Complex View**

-   Based on **multiple tables**.
-   Can include `JOIN`, `GROUP BY`, or functions.

ğŸ“˜ Example:

```sql
CREATE VIEW dept_salary AS
SELECT d.dept_name, AVG(e.salary) AS avg_salary
FROM employees e
JOIN departments d ON e.department = d.dept_id
GROUP BY d.dept_name;
```

**Visual:**

| employees | JOIN    | departments | â†’       | dept_salary view |
| --------- | ------- | ----------- | ------- | ---------------- | --- | --------- | ---------- |
| emp_id    | dept_id |             | dept_id | dept_name        |     | dept_name | avg_salary |

---

### 3. ğŸ§® **Inline View**

-   A **subquery in the FROM clause** of another query.
-   Acts like a **temporary table** (not permanently stored).

ğŸ“˜ Example:

```sql
SELECT dept_name, avg_salary
FROM (
  SELECT department, AVG(salary) AS avg_salary
  FROM employees
  GROUP BY department
) AS dept_summary;
```

Here, `dept_summary` is the **inline view**.

---

### 4. ğŸ§± **Materialized View**

-   **Physically stores data** (unlike normal views).
-   Faster for repeated queries.
-   Must be **refreshed** to update with base table changes.

ğŸ“˜ Example:

```sql
CREATE MATERIALIZED VIEW dept_salary_mv AS
SELECT department, AVG(salary) AS avg_salary
FROM employees
GROUP BY department;
```

**Visual:**

ğŸ§  Normal View â†’ Always recalculates query
ğŸ“¦ Materialized View â†’ Stores results once for faster access

---

## âš–ï¸ Difference Between View and Materialized View

| Feature       | **View**                      | **Materialized View**    |
| ------------- | ----------------------------- | ------------------------ |
| Stores Data   | âŒ No                         | âœ… Yes                   |
| Storage Space | No extra space                | Takes storage            |
| Data Updated  | Automatically (real-time)     | Manually (needs refresh) |
| Performance   | Slower (recomputed each time) | Faster (pre-computed)    |

---

## ğŸ› ï¸ View Commands

### âœ… Create a View

```sql
CREATE VIEW view_name AS
SELECT columns FROM table WHERE condition;
```

### ğŸ” Replace or Update a View

```sql
CREATE OR REPLACE VIEW view_name AS
SELECT columns FROM table WHERE condition;
```

### âŒ Drop a View

```sql
DROP VIEW view_name;
```

---

## ğŸ‘ Advantages of Views

âœ… Simplifies complex queries
âœ… Provides security by restricting data access
âœ… Presents data in a readable format
âœ… Allows reusability of query logic

---

## âš ï¸ Disadvantages of Views

âŒ Slower for large queries (since they recalculate each time)
âŒ Dependent on base table â€” if schema changes, view may break
âŒ Cannot always perform `INSERT`, `UPDATE`, or `DELETE` operations (especially if based on multiple tables or aggregates)

---

## ğŸ§¾ Summary

| Concept           | Description                                      |
| ----------------- | ------------------------------------------------ |
| **Definition**    | A virtual table based on a SQL query             |
| **Data Storage**  | Does not store data (except materialized views)  |
| **Purpose**       | Simplify queries, secure data access             |
| **Types**         | Simple, Complex, Inline, Materialized            |
| **Main Commands** | CREATE VIEW, DROP VIEW, CREATE MATERIALIZED VIEW |
