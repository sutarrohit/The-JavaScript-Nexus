# ğŸ“˜ **Data Constraints in SQL**

**Data Constraints** in SQL are **rules applied to columns or tables** to ensure **data integrity, accuracy, and consistency** within a database.
They define the conditions that data must satisfy before it can be inserted, updated, or deleted.

By enforcing constraints, **SQL ensures that only valid data** is stored in the database, preventing errors, duplicates, or invalid relationships between tables.

These rules are also called **Integrity Constraints** because they help maintain the **integrity** of the database.

## ğŸ¯ **Purpose of Data Constraints**

-   To **maintain accuracy and consistency** of data.
-   To **prevent invalid data entry** (like negative ages or duplicate IDs).
-   To **enforce business rules** at the database level.
-   To **maintain relationships** between tables (referential integrity).
-   To **control null values, uniqueness, and data dependencies**.

## ğŸ§± **Types of SQL Constraints**

| Constraint       | Description                                                   |
| ---------------- | ------------------------------------------------------------- |
| **NOT NULL**     | Ensures that a column cannot store NULL (empty) values        |
| **UNIQUE**       | Ensures all values in a column are unique                     |
| **PRIMARY KEY**  | Uniquely identifies each row in a table                       |
| **FOREIGN KEY**  | Establishes a relationship between two tables                 |
| **CHECK**        | Ensures that all values in a column meet a specific condition |
| **DEFAULT**      | Assigns a default value when no value is specified            |
| **CREATE INDEX** | Speeds up data retrieval operations                           |

---

## ğŸ§© **1. NOT NULL Constraint**

### ğŸ§  **Definition:**

The **NOT NULL** constraint ensures that a column **must always have a value** â€” it cannot be left empty (NULL).

### ğŸ§¾ **Syntax:**

```sql
CREATE TABLE Colleges (
  college_id INT NOT NULL,
  college_code VARCHAR(20) NOT NULL,
  college_name VARCHAR(50)
);
```

### ğŸ“ **Explanation:**

-   The columns `college_id` and `college_code` **cannot contain NULL values**.
-   Every record must provide a value for these fields.

---

## ğŸ§© **2. UNIQUE Constraint**

### ğŸ§  **Definition:**

The **UNIQUE** constraint ensures that **all values in a column are distinct** â€” no duplicate entries are allowed.

### ğŸ§¾ **Syntax:**

```sql
CREATE TABLE Colleges (
  college_id INT NOT NULL UNIQUE,
  college_code VARCHAR(20) UNIQUE,
  college_name VARCHAR(50)
);
```

### ğŸ“ **Explanation:**

-   Both `college_id` and `college_code` must contain unique values.
-   `college_id` cannot be NULL (because itâ€™s also `NOT NULL`).
-   `college_code` can be NULL (unless explicitly set to NOT NULL).

---

## ğŸ§© **3. PRIMARY KEY Constraint**

### ğŸ§  **Definition:**

The **PRIMARY KEY** constraint uniquely identifies each record in a table.
It is a combination of **NOT NULL** and **UNIQUE**, meaning:

-   Values cannot be NULL
-   Values must be unique

### ğŸ§¾ **Syntax:**

```sql
CREATE TABLE Colleges (
  college_id INT PRIMARY KEY,
  college_code VARCHAR(20) NOT NULL,
  college_name VARCHAR(50)
);
```

### ğŸ“ **Explanation:**

-   Each row in the table is uniquely identified by `college_id`.
-   There can be only **one primary key** per table.

### ğŸ§® **Composite Primary Key Example:**

```sql
CREATE TABLE Enrollment (
  student_id INT,
  course_id INT,
  PRIMARY KEY (student_id, course_id)
);
```

ğŸ“ _Here, the combination of `student_id` and `course_id` uniquely identifies each record._

---

## ğŸ§© **4. FOREIGN KEY Constraint**

### ğŸ§  **Definition:**

The **FOREIGN KEY** constraint is used to **link records between two tables**.
It enforces **referential integrity**, meaning a record in one table must correspond to a valid record in another table.

### ğŸ§¾ **Syntax:**

```sql
CREATE TABLE Orders (
  order_id INT PRIMARY KEY,
  customer_id INT REFERENCES Customers(id)
);
```

### ğŸ“ **Explanation:**

-   The `customer_id` in the `Orders` table **must match** an `id` value in the `Customers` table.
-   It prevents the insertion of invalid customer IDs in the `Orders` table.

### ğŸ’¡ **Alternate Syntax:**

```sql
CREATE TABLE Orders (
  order_id INT PRIMARY KEY,
  customer_id INT,
  FOREIGN KEY (customer_id) REFERENCES Customers(id)
);
```

---

## ğŸ§© **5. CHECK Constraint**

### ğŸ§  **Definition:**

The **CHECK** constraint ensures that data inserted into a column **satisfies a specific condition**.

### ğŸ§¾ **Syntax:**

```sql
CREATE TABLE Orders (
  order_id INT PRIMARY KEY,
  amount INT CHECK (amount >= 100)
);
```

### ğŸ“ **Explanation:**

-   The column `amount` must have a value **greater than or equal to 100**.
-   If an invalid value is inserted, the database **rejects the entry**.

---

## ğŸ§© **6. DEFAULT Constraint**

### ğŸ§  **Definition:**

The **DEFAULT** constraint assigns a **default value** to a column when no value is explicitly provided during insertion.

### ğŸ§¾ **Syntax:**

```sql
CREATE TABLE College (
  college_id INT PRIMARY KEY,
  college_code VARCHAR(20),
  college_country VARCHAR(20) DEFAULT 'US'
);
```

### ğŸ“ **Explanation:**

-   If no country value is given, the column `college_country` automatically gets the value `'US'`.
-   This helps in avoiding NULLs and maintaining consistency.

---

## ğŸ§© **7. CREATE INDEX Constraint**

### ğŸ§  **Definition:**

The **CREATE INDEX** constraint is not a data integrity rule but a **performance optimization feature**.
It creates an index on a column to **speed up data retrieval** (especially for large tables).

### ğŸ§¾ **Syntax:**

```sql
-- Create table
CREATE TABLE Colleges (
  college_id INT PRIMARY KEY,
  college_code VARCHAR(20) NOT NULL,
  college_name VARCHAR(50)
);

-- Create index
CREATE INDEX college_index
ON Colleges(college_code);
```

### ğŸ“ **Explanation:**

-   An index named `college_index` is created on the `college_code` column.
-   Searching or filtering based on `college_code` becomes much faster.
-   However, indexing may slow down `INSERT` or `UPDATE` operations because the index also needs updating.

---

## âš–ï¸ **Difference Between PRIMARY KEY and FOREIGN KEY**

| Basis           | PRIMARY KEY                         | FOREIGN KEY                            |
| --------------- | ----------------------------------- | -------------------------------------- |
| **Purpose**     | Uniquely identifies rows in a table | Establishes a link between two tables  |
| **Uniqueness**  | Must be unique                      | Can have duplicates                    |
| **Null Values** | Not allowed                         | Allowed (if not explicitly restricted) |
| **Defined In**  | Parent (main) table                 | Child (referencing) table              |

---

## ğŸ’¡ **Real-World Use Cases**

-   **NOT NULL:** Ensuring every employee has an ID.
-   **UNIQUE:** Preventing duplicate usernames or email addresses.
-   **PRIMARY KEY:** Identifying each order or product uniquely.
-   **FOREIGN KEY:** Linking orders to specific customers.
-   **CHECK:** Enforcing rules like age > 18 or salary > 0.
-   **DEFAULT:** Setting a standard status like â€œActiveâ€.
-   **CREATE INDEX:** Speeding up search queries in large datasets.
