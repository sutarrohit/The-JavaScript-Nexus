# üß† What Is a SQL JOIN?

A **JOIN** in SQL is used to **combine data from multiple tables** based on a related column between them.

Relational databases store data in separate tables to reduce redundancy (normalization). But when you query, you often need related information ‚Äî for example:

-   Get a book‚Äôs title (from the `books` table)
-   ‚Ä¶and the author‚Äôs name (from the `authors` table)

A `JOIN` lets you connect these two tables using a **common key** ‚Äî usually a **foreign key**.

---

# üìò Example Schema

We‚Äôll use this sample database for examples:

### `books`

| id  | title            | type       | author_id | editor_id | translator_id |
| --- | ---------------- | ---------- | --------- | --------- | ------------- |
| 1   | Time to Grow Up! | original   | 11        | 21        | _(null)_      |
| 2   | Your Trip        | translated | 15        | 22        | 32            |
| 3   | Lovely Love      | original   | 14        | 24        | _(null)_      |
| ‚Ä¶   | ‚Ä¶                | ‚Ä¶          | ‚Ä¶         | ‚Ä¶         | ‚Ä¶             |

### `authors`

| id  | first_name | last_name |
| --- | ---------- | --------- |
| 11  | Ellen      | Writer    |
| 12  | Olga       | Savelieva |
| ‚Ä¶   | ‚Ä¶          | ‚Ä¶         |

And similar `editors` and `translators` tables.

---

# üß© SQL JOIN Types Overview

| JOIN Type      | Keeps Matching Rows | Keeps Non-Matching Rows From | NULLs For Missing Data |
| -------------- | ------------------- | ---------------------------- | ---------------------- |
| **INNER JOIN** | ‚úÖ Yes              | ‚ùå None                      | Not shown              |
| **LEFT JOIN**  | ‚úÖ Yes              | ‚úÖ Left table                | Right side NULL        |
| **RIGHT JOIN** | ‚úÖ Yes              | ‚úÖ Right table               | Left side NULL         |
| **FULL JOIN**  | ‚úÖ Yes              | ‚úÖ Both tables               | NULL for both sides    |

---

# 1Ô∏è‚É£ INNER JOIN

### üìò Purpose:

Return **only matching records** from both tables.

### üßÆ Syntax:

```sql
SELECT columns
FROM table1
INNER JOIN table2
ON table1.common_column = table2.common_column;
```

### üß† Logic:

For every row in `table1`, find a matching row in `table2`.
If found ‚Üí merge into one row.
If not ‚Üí skip that row.

---

### Example 1: Books + Authors

```sql
SELECT b.id, b.title, a.first_name, a.last_name
FROM books b
INNER JOIN authors a
ON b.author_id = a.id
ORDER BY b.id;
```

‚úÖ **Explanation:**

-   `books` ‚Üí left table
-   `authors` ‚Üí right table
-   Match where `books.author_id = authors.id`

‚úÖ **Result:**
Every book has an author. Only books with valid author IDs are shown.

---

### Example 2: Books + Translators

```sql
SELECT b.id, b.title, b.type, t.last_name AS translator
FROM books b
JOIN translators t
ON b.translator_id = t.id
ORDER BY b.id;
```

‚úÖ **Result:**
Only translated books appear (because originals don‚Äôt have translators).

üîç **Why?** INNER JOIN removes all non-matching records.

---

# 2Ô∏è‚É£ LEFT JOIN (a.k.a LEFT OUTER JOIN)

### üìò Purpose:

Keep **all records from the left table**, and only matching ones from the right.

If there‚Äôs no match ‚Äî right side columns show `NULL`.

### üßÆ Syntax:

```sql
SELECT columns
FROM left_table
LEFT JOIN right_table
ON left_table.key = right_table.key;
```

### üß† Logic:

-   Start with all rows from left table.
-   For each, try to find a matching record in the right.
-   If not found, right side becomes NULL.

---

### Example 3: Books + Authors + Translators

```sql
SELECT
 b.id, b.title, b.type,
 a.last_name AS author,
 t.last_name AS translator
FROM books b
LEFT JOIN authors a
ON b.author_id = a.id
LEFT JOIN translators t
ON b.translator_id = t.id
ORDER BY b.id;
```

‚úÖ **Explanation:**

-   We join authors normally (every book has one)
-   But translators may not exist (so translator field = NULL)

‚úÖ **Result:**
All books show up, even originals without translators.

---

### Example 4: Books + Editors

```sql
SELECT b.id, b.title, e.last_name AS editor
FROM books b
LEFT JOIN editors e
ON b.editor_id = e.id
ORDER BY b.id;
```

‚úÖ **Result:**
All books appear ‚Äî even the one whose editor left the company (NULL).

---

# 3Ô∏è‚É£ RIGHT JOIN (a.k.a RIGHT OUTER JOIN)

### üìò Purpose:

Keep **all records from the right table**, and only matched ones from the left.

Equivalent to LEFT JOIN if you swap table order.

### üßÆ Syntax:

```sql
SELECT columns
FROM left_table
RIGHT JOIN right_table
ON left_table.key = right_table.key;
```

### Example 5: Books + Editors (Right Join)

```sql
SELECT b.id, b.title, e.last_name AS editor
FROM books b
RIGHT JOIN editors e
ON b.editor_id = e.id
ORDER BY b.id;
```

‚úÖ **Result:**
Shows all editors ‚Äî even those with **no books yet**.
Books that don‚Äôt match are dropped.

‚ö†Ô∏è **Note:** RIGHT JOIN is rarely used ‚Äî you can just swap tables and use LEFT JOIN instead.

---

# 4Ô∏è‚É£ FULL JOIN (a.k.a FULL OUTER JOIN)

### üìò Purpose:

Keep **all records from both tables**, whether or not they match.

If there‚Äôs no match, the missing side is `NULL`.

### üßÆ Syntax:

```sql
SELECT columns
FROM table1
FULL JOIN table2
ON table1.key = table2.key;
```

### Example 6: Books + Editors

```sql
SELECT b.id, b.title, e.last_name AS editor
FROM books b
FULL JOIN editors e
ON b.editor_id = e.id
ORDER BY b.id;
```

‚úÖ **Result:**

-   Keeps all books (even those without editors)
-   Keeps all editors (even those without books)

NULLs appear wherever matches are missing.

---

### Example 7: Join All Four Tables

```sql
SELECT b.id, b.title,
       a.last_name AS author,
       e.last_name AS editor,
       t.last_name AS translator
FROM books b
FULL JOIN authors a ON b.author_id = a.id
FULL JOIN editors e ON b.editor_id = e.id
FULL JOIN translators t ON b.translator_id = t.id
ORDER BY b.id;
```

‚úÖ **Result:**
You get a **complete overview**:

-   All books (with author/editor/translator info)
-   All editors/translators/authors, even those not attached to books

---

# üß© Summary Table

| JOIN Type      | Includes All from Left | Includes All from Right | Excludes Non-Matches | Use Case                       |
| -------------- | ---------------------- | ----------------------- | -------------------- | ------------------------------ |
| **INNER JOIN** | ‚ùå                     | ‚ùå                      | ‚úÖ                   | Only matched data              |
| **LEFT JOIN**  | ‚úÖ                     | ‚ùå                      | ‚úÖ (right side)      | Keep all left records          |
| **RIGHT JOIN** | ‚ùå                     | ‚úÖ                      | ‚úÖ (left side)       | Keep all right records         |
| **FULL JOIN**  | ‚úÖ                     | ‚úÖ                      | ‚ùå                   | Show all data from both tables |

---

Perfect üëè ‚Äî let‚Äôs now **extend your SQL JOIN notes** with two more important (but often less understood) types:
‚úÖ **CROSS JOIN** and ‚úÖ **SELF JOIN**.

We‚Äôll keep the same **detailed, exam-ready, and conceptual** format ‚Äî matching the style of your existing JOIN notes.

---

# ‚öôÔ∏è Additional SQL JOIN Types

In addition to **INNER**, **LEFT**, **RIGHT**, and **FULL JOIN**, SQL also supports two other types:

1. **CROSS JOIN**
2. **SELF JOIN**

Both have unique use-cases and behaviors that are essential to understand for complete mastery.

---

## üî∂ 5Ô∏è‚É£ CROSS JOIN

### üìò **Introduction**

A **CROSS JOIN** (also called a **Cartesian Join**) returns **every possible combination** of rows from two tables.

It does **not require a matching condition** (`ON` clause).
Instead, it combines **each row from the first table with all rows from the second table**.

---

### üßÆ **Syntax**

```sql
SELECT columns
FROM table1
CROSS JOIN table2;
```

---

### üß† **How It Works**

If:

-   `table1` has **m** rows
-   `table2` has **n** rows

Then the result of the CROSS JOIN will have **m √ó n rows**.

That‚Äôs why it‚Äôs called a **Cartesian product** ‚Äî like multiplying two sets.

---

### üìò **Example: Books √ó Editors**

Let‚Äôs see what happens if we join all `books` and all `editors` using a CROSS JOIN:

```sql
SELECT b.title, e.last_name AS editor
FROM books b
CROSS JOIN editors e;
```

---

### ‚úÖ **Result:**

Every book will appear **once for every editor**.

If:

-   `books` has 8 rows
-   `editors` has 7 rows

‚Üí Output will have **8 √ó 7 = 56 rows**.

| title            | editor  |
| ---------------- | ------- |
| Time to Grow Up! | Brown   |
| Time to Grow Up! | Johnson |
| Time to Grow Up! | Evans   |
| ‚Ä¶                | ‚Ä¶       |
| My Last Book     | Smith   |

---

### ‚ö†Ô∏è **Key Points**

-   **No ON condition** is used (if you include one, it behaves like an INNER JOIN).
-   CROSS JOINs are rarely used for normal querying because of their large result sets.
-   They are useful in **specific use-cases** like:

    -   Generating **combinations or permutations**
    -   Creating **test datasets**
    -   Computing **Cartesian products** (e.g., all possible size-color combinations in an inventory)

---

### üß© **Example Use-Case**

Suppose you have:

```sql
colors(color) ‚Üí ['Red', 'Blue']
sizes(size) ‚Üí ['S', 'M', 'L']
```

You can get all possible T-shirt combinations like this:

```sql
SELECT c.color, s.size
FROM colors c
CROSS JOIN sizes s;
```

‚úÖ **Result:**

| color | size |
| ----- | ---- |
| Red   | S    |
| Red   | M    |
| Red   | L    |
| Blue  | S    |
| Blue  | M    |
| Blue  | L    |

---

### üß≠ **Summary (CROSS JOIN)**

| Property        | Description                               |
| --------------- | ----------------------------------------- |
| **Purpose**     | Returns all possible combinations of rows |
| **Condition**   | None                                      |
| **Result Size** | m √ó n (Cartesian product)                 |
| **Common Use**  | Combinations, pairing data sets           |
| **Example**     | Show every editor for every book          |

---

## üî∑ 6Ô∏è‚É£ SELF JOIN

### üìò **Introduction**

A **SELF JOIN** is a **regular join** (usually INNER or LEFT) where a table is **joined with itself**.

It‚Äôs used when the data in a single table is **related hierarchically** or **needs comparison** between rows of the same table.

---

### üßÆ **Syntax**

```sql
SELECT a.column1, b.column2
FROM table_name a
JOIN table_name b
ON a.common_field = b.related_field;
```

Here, we give the same table **two different aliases** (`a` and `b`) to distinguish them.

---

### üß† **How It Works**

-   SQL treats the same table as if it were two separate tables.
-   Rows from the first copy (`a`) are matched with rows from the second copy (`b`) based on a relationship within the table.

---

### üìò **Example: Employees Table**

Suppose we have an `employees` table:

| emp_id | emp_name | manager_id |
| ------ | -------- | ---------- |
| 1      | John     | NULL       |
| 2      | Sarah    | 1          |
| 3      | David    | 1          |
| 4      | Emma     | 2          |

Each employee has a manager, who is also an employee in the same table.

---

### üß© **Example Query: Find Each Employee‚Äôs Manager**

```sql
SELECT e.emp_name AS employee,
       m.emp_name AS manager
FROM employees e
LEFT JOIN employees m
ON e.manager_id = m.emp_id;
```

---

### ‚úÖ **Result:**

| employee | manager |
| -------- | ------- |
| John     | NULL    |
| Sarah    | John    |
| David    | John    |
| Emma     | Sarah   |

---

### ‚öôÔ∏è **Explanation**

-   `employees e` ‚Üí represents each employee
-   `employees m` ‚Üí represents the same table, but viewed as ‚Äúmanagers‚Äù
-   The join condition `e.manager_id = m.emp_id` matches employees to their managers

---

### üß† **When to Use SELF JOIN**

1. To represent **hierarchical data** ‚Äî like managers, categories, or family trees.
2. To **compare rows** in the same table (e.g., find students with the same GPA).
3. To check **relationships within a dataset** (e.g., who reports to whom, or related product pairs).

---

### üß≠ **Summary (SELF JOIN)**

| Property       | Description                                   |
| -------------- | --------------------------------------------- |
| **Purpose**    | Joins a table with itself                     |
| **Condition**  | Based on a relationship within the same table |
| **Aliases**    | Required to differentiate both instances      |
| **Common Use** | Hierarchies, relationships, comparisons       |
| **Example**    | Employee ‚Üí Manager relationship               |

---

# üßæ Final Summary: All SQL JOIN Types

| Type           | Description                       | Keeps Non-Matching? | Use Case                                  |
| -------------- | --------------------------------- | ------------------- | ----------------------------------------- |
| **INNER JOIN** | Returns only matching rows        | ‚ùå                  | Combine related data                      |
| **LEFT JOIN**  | Keeps all rows from left table    | ‚úÖ Left only        | Show all books even without editors       |
| **RIGHT JOIN** | Keeps all rows from right table   | ‚úÖ Right only       | Show all editors even without books       |
| **FULL JOIN**  | Keeps all rows from both tables   | ‚úÖ Both sides       | Show everything from both                 |
| **CROSS JOIN** | Returns all possible combinations | ‚úÖ All pairs        | Generate combinations                     |
| **SELF JOIN**  | Joins a table with itself         | Depends             | Hierarchical or comparative relationships |
