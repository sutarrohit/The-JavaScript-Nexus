# **Dark Mode**

Dark mode allows your website to automatically or manually switch to a darker color theme.
It helps improve **user experience** in low-light environments and is now a **standard feature** in most operating systems and browsers.

Tailwind makes adding **dark mode styles** simple and elegant using the `dark:` variant.

## ğŸ§  **1. Overview**

In Tailwind CSS, you can easily style your website for **both light and dark themes** by using the `dark:` prefix.

ğŸ“˜ **Example:**

```html
<div class="bg-white dark:bg-gray-800 rounded-lg px-6 py-8 ring shadow-xl ring-gray-900/5">
    <div>
        <span class="inline-flex items-center justify-center rounded-md bg-indigo-500 p-2 shadow-lg">
            <svg class="h-6 w-6 stroke-white" ...></svg>
        </span>
    </div>

    <h3 class="text-gray-900 dark:text-white mt-5 text-base font-medium tracking-tight">Writes upside-down</h3>
    <p class="text-gray-500 dark:text-gray-400 mt-2 text-sm">
        The Zero Gravity Pen can be used to write in any orientation, including upside-down. It even works in outer
        space.
    </p>
</div>
```

ğŸŸ¢ **Light Mode Output:**

-   Background: white
-   Text: black (`text-gray-900`)

ğŸŒ‘ **Dark Mode Output:**

-   Background: dark gray (`bg-gray-800`)
-   Text: white (`dark:text-white`)

---

## âš™ï¸ **2. How It Works**

By default, Tailwindâ€™s dark mode is controlled by the userâ€™s **system preference**, using the CSS media query:

```css
@media (prefers-color-scheme: dark) {
    ...;
}
```

That means â€”
âœ… If your operating system is in **dark mode**, the `dark:` utilities will be active.
âœ… If itâ€™s in **light mode**, only the normal (unprefixed) classes apply.

---

## ğŸ” **3. Toggling Dark Mode Manually**

If you want to **control dark mode manually** (e.g., using a button or toggle switch) instead of relying on the system setting, you can override Tailwindâ€™s default behavior.

### ğŸ§© Step 1 â€” Customize the Dark Variant

Edit your CSS to tell Tailwind how to detect dark mode:

ğŸ“˜ **`app.css`**

```css
@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));
```

This tells Tailwind:

> Apply `dark:` utilities whenever an ancestor element (or itself) has the `.dark` class.

---

### ğŸ§© Step 2 â€” Use the `.dark` Class in HTML

Now, add the `.dark` class to the `<html>` or `<body>` element to activate dark mode manually:

ğŸ“˜ **Example:**

```html
<html class="dark">
    <body>
        <div class="bg-white dark:bg-black text-gray-900 dark:text-gray-100">
            <!-- Your content -->
        </div>
    </body>
</html>
```

ğŸŸ¢ Remove `.dark` â†’ Light mode
ğŸŒ‘ Add `.dark` â†’ Dark mode

---

## ğŸ§  **4. Adding JavaScript for Manual Toggle**

You can toggle the `.dark` class using JavaScript â€” usually linked to a button or switch.

ğŸ“˜ **Example:**

```js
const toggleDarkMode = () => {
    document.documentElement.classList.toggle("dark");
};
```

You can also **store the userâ€™s theme preference** in `localStorage` to remember it across sessions.

---

## ğŸ’¾ **5. Using a Data Attribute Instead of a Class**

Instead of using `.dark`, you can use a **data attribute** like `data-theme="dark"`.

This is useful when your site uses multiple themes or when you prefer a cleaner global selector.

ğŸ“˜ **Step 1 â€” Update `app.css`:**

```css
@import "tailwindcss";
@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));
```

ğŸ“˜ **Step 2 â€” Set the Attribute in HTML:**

```html
<html data-theme="dark">
    <body>
        <div class="bg-white dark:bg-black text-gray-900 dark:text-gray-100">
            <!-- ... -->
        </div>
    </body>
</html>
```

âœ… Any element inside an ancestor with `data-theme="dark"` will have dark mode utilities applied.

---

## ğŸŒ— **6. With System Theme Support (Three-way Toggle)**

You can support:

1. **Light Mode**
2. **Dark Mode**
3. **System Preference (auto)**

This is done using JavaScript + `window.matchMedia()`.

ğŸ“˜ **Example: `spaghetti.js`**

```js
// Set the theme when the page loads
document.documentElement.classList.toggle(
    "dark",
    localStorage.theme === "dark" ||
        (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)
);

// When the user chooses light mode
function setLightMode() {
    localStorage.theme = "light";
    document.documentElement.classList.remove("dark");
}

// When the user chooses dark mode
function setDarkMode() {
    localStorage.theme = "dark";
    document.documentElement.classList.add("dark");
}

// When the user chooses "System" preference
function setSystemMode() {
    localStorage.removeItem("theme");
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        document.documentElement.classList.add("dark");
    } else {
        document.documentElement.classList.remove("dark");
    }
}
```

ğŸ§  **Explanation:**

-   If user sets `localStorage.theme = "dark"`, the `.dark` class is added.
-   If user sets `localStorage.theme = "light"`, the class is removed.
-   If user removes the key (`removeItem`), the system preference (`prefers-color-scheme`) decides.

This approach prevents **FOUC** (Flash of Unstyled Content) by applying the theme **immediately on page load**.

---

## ğŸ›ï¸ **7. Practical Example â€” Theme Switcher**

Hereâ€™s how a basic theme switcher might look:

ğŸ“˜ **HTML**

```html
<button onclick="setLightMode()">Light</button>
<button onclick="setDarkMode()">Dark</button>
<button onclick="setSystemMode()">System</button>

<div class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-4 rounded-lg mt-4">
    <h1 class="text-xl font-bold">Dark Mode Example</h1>
    <p>This text and background will change with theme.</p>
</div>
```

---

## ğŸ’¡ **8. Key Points to Remember**

| Concept                   | Description                                                         |
| ------------------------- | ------------------------------------------------------------------- |
| **`dark:` Variant**       | Prefix used to apply dark mode styles.                              |
| **Default Mode**          | Based on system preference (`prefers-color-scheme`).                |
| **Manual Mode**           | Controlled by `.dark` class or `[data-theme="dark"]` attribute.     |
| **Custom Variant**        | Define how Tailwind detects dark mode using `@custom-variant dark`. |
| **Persistent Preference** | Store userâ€™s theme choice in `localStorage`.                        |
| **Three-Way Support**     | Handle Light, Dark, and System modes together.                      |
| **FOUC Prevention**       | Apply theme early (e.g., inline in `<head>`).                       |

---

## ğŸ§¾ **9. Common Use Cases**

| Scenario                          | Technique                  | Example                                             |
| --------------------------------- | -------------------------- | --------------------------------------------------- |
| Automatic (OS-driven)             | Default Tailwind setup     | `dark:bg-gray-800`                                  |
| Manual toggle with class          | `.dark` class + JS toggle  | `<html class="dark">`                               |
| Manual toggle with data attribute | `[data-theme="dark"]` + JS | `<html data-theme="dark">`                          |
| Remember theme preference         | `localStorage`             | `localStorage.theme = "dark"`                       |
| Hybrid (light/dark/system)        | JS + media query detection | `window.matchMedia("(prefers-color-scheme: dark)")` |

---

## ğŸ§© **10. Summary**

âœ… Tailwindâ€™s **dark mode** feature helps you easily manage light and dark themes.
âœ… You can use **`dark:` prefixes** for conditional styling.
âœ… Control can be:

-   **Automatic** via system theme
-   **Manual** using a **`.dark` class** or **`data-theme` attribute**
-   **Hybrid** with **user + system preference**
    âœ… Combine this with `localStorage` and JavaScript for the best user experience.
