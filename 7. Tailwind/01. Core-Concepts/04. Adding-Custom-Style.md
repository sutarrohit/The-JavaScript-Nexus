# Introduction to Tailwind Customization

Tailwind CSS is designed from the ground up to be **extensible and customizable**, ensuring you never feel constrained by the framework. This guide covers multiple approaches for adding custom styles when built-in utilities don't meet your needs.

## 1. Customizing Your Theme

### Using the `@theme` Directive

The `@theme` directive allows you to customize design tokens like colors, spacing, fonts, and breakpoints.

```css
@theme {
    /* Custom Font Families */
    --font-display: "Satoshi", "sans-serif";

    /* Custom Breakpoints */
    --breakpoint-3xl: 120rem;

    /* Custom Color Palette */
    --color-avocado-100: oklch(0.99 0 0);
    --color-avocado-200: oklch(0.98 0.04 113.22);
    --color-avocado-300: oklch(0.94 0.11 115.03);
    --color-avocado-400: oklch(0.92 0.19 114.08);
    --color-avocado-500: oklch(0.84 0.18 117.33);
    --color-avocado-600: oklch(0.53 0.12 118.34);

    /* Custom Easing Functions */
    --ease-fluid: cubic-bezier(0.3, 0, 0, 1);
    --ease-snappy: cubic-bezier(0.2, 0, 0, 1);
}
```

**Benefits:**

-   Maintains design consistency
-   Centralized design system management
-   Automatic utility generation

## 2. Arbitrary Values

### Square Bracket Notation

When you need precise values outside your design tokens, use arbitrary values with square brackets.

```html
<!-- Positioning with arbitrary values -->
<div class="top-[117px] lg:top-[344px]">
    <!-- Content -->
</div>

<!-- Colors and typography -->
<div class="bg-[#bada55] text-[22px] before:content-['Festivus']">
    <!-- Content -->
</div>
```

### CSS Variables in Arbitrary Values

```html
<!-- Shorthand for CSS variables -->
<div class="fill-(--my-brand-color)">
    <!-- Content -->
</div>

<!-- Equivalent to: -->
<div class="fill-[var(--my-brand-color)]">
    <!-- Content -->
</div>
```

**Advantages over inline styles:**

-   Works with modifiers (`hover`, `focus`, `lg`, etc.)
-   Consistent with Tailwind's syntax
-   Processed through PostCSS

## 3. Arbitrary Properties

For CSS properties without Tailwind utilities, use arbitrary properties:

```html
<!-- Custom CSS properties -->
<div class="[mask-type:luminance] hover:[mask-type:alpha]">
    <!-- Content -->
</div>

<!-- Dynamic CSS variables -->
<div class="[--scroll-offset:56px] lg:[--scroll-offset:44px]">
    <!-- Content -->
</div>
```

## 4. Arbitrary Variants

Create complex selectors on-the-fly:

```html
<ul role="list">
    {#each items as item}
    <li class="lg:[&:nth-child(-n+3)]:hover:underline">{item}</li>
    {/each}
</ul>
```

**Translation:** "On large screens, for the first three items, add underline on hover"

## 5. Whitespace Handling

### Spaces in Arbitrary Values

Replace spaces with underscores:

```html
<!-- Grid template with fractions -->
<div class="grid grid-cols-[1fr_500px_2fr]">
    <!-- Content -->
</div>

<!-- URLs (underscores preserved) -->
<div class="bg-[url('/what_a_rush.png')]">
    <!-- Content -->
</div>
```

### Escaping Underscores

When you need literal underscores:

```html
<!-- Escaped underscore -->
<div class="before:content-['hello\_world']">
  <!-- Content -->
</div>

<!-- In JSX -->
<div className={String.raw`before:content-['hello\_world']`}>
  <!-- Content -->
</div>
```

## 6. Resolving Ambiguities

### Automatic Resolution

Tailwind usually detects the intended utility:

```html
<!-- Font size (numeric value) -->
<div class="text-[22px]">...</div>

<!-- Color (hex value) -->
<div class="text-[#bada55]">...</div>
```

### Explicit Type Hints

For ambiguous cases like CSS variables:

```html
<!-- Font size with type hint -->
<div class="text-(length:--my-var)">...</div>

<!-- Color with type hint -->
<div class="text-(color:--my-var)">...</div>
```

## 7. Using Custom CSS

### Plain CSS Approach

Nothing prevents you from writing regular CSS:

```css
@import "tailwindcss";

.my-custom-style {
    background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
    border: 2px solid var(--color-gray-200);
}
```

## 8. Adding Base Styles

### HTML Element Classes

Simple approach for global styles:

```html
<!DOCTYPE html>
<html lang="en" class="bg-gray-100 font-serif text-gray-900">
    <!-- Page content -->
</html>
```

### `@layer base` Directive

For element-specific base styles:

```css
@layer base {
    h1 {
        font-size: var(--text-2xl);
        font-weight: bold;
        margin-bottom: 1rem;
    }

    h2 {
        font-size: var(--text-xl);
        font-weight: semibold;
        margin-bottom: 0.75rem;
    }
}
```

## 9. Component Classes

### Using `@layer components`

Create reusable component styles that can be overridden:

```css
@layer components {
    .card {
        background-color: var(--color-white);
        border-radius: var(--radius-lg);
        padding: var(--spacing-6);
        box-shadow: var(--shadow-xl);
    }

    .btn-primary {
        background: var(--color-blue-500);
        color: white;
        padding: var(--spacing-3) var(--spacing-6);
        border-radius: var(--radius-md);

        @variant hover {
            background: var(--color-blue-600);
        }
    }
}
```

**Usage with utility overrides:**

```html
<div class="card rounded-none border-2">
    <!-- Customized card -->
</div>
```

### Third-party Component Styling

```css
@layer components {
    .select2-dropdown {
        border: 1px solid var(--color-gray-300);
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-lg);
    }
}
```

## 10. Using Variants in Custom CSS

### `@variant` Directive

Apply Tailwind variants within custom CSS:

```css
.my-element {
    background: white;

    @variant dark {
        background: black;
    }
}
```

**Compiles to:**

```css
.my-element {
    background: white;
}

@media (prefers-color-scheme: dark) {
    .my-element {
        background: black;
    }
}
```

### Nested Variants

```css
.my-element {
    background: white;

    @variant dark {
        @variant hover {
            background: black;
        }
    }
}
```

## 11. Custom Utilities

### Simple Utilities

```css
@utility content-auto {
    content-visibility: auto;
}
```

**Usage:**

```html
<div class="content-auto hover:content-auto">
    <!-- Content -->
</div>
```

### Complex Utilities with Nesting

```css
@utility scrollbar-hidden {
    &::-webkit-scrollbar {
        display: none;
    }

    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
}
```

## 12. Functional Utilities

### Basic Functional Utilities

```css
@utility tab-* {
    tab-size: --value(--tab-size- *);
}
```

### Value Resolution Patterns

#### Matching Theme Values

```css
@theme {
    --tab-size-2: 2;
    --tab-size-4: 4;
    --tab-size-github: 8;
}

@utility tab-* {
    tab-size: --value(--tab-size- *);
}
```

#### Bare Values

```css
@utility tab-* {
    tab-size: --value(integer); /* tab-1, tab-76 */
}
```

#### Literal Values

```css
@utility tab-* {
    tab-size: --value("inherit", "initial", "unset");
}
```

#### Arbitrary Values

```css
@utility tab-* {
    tab-size: --value([integer]); /* tab-[1], tab-[76] */
}
```

### Comprehensive Value Support

```css
@utility opacity-* {
    /* Support all value types */
    opacity: --value([percentage]);
    opacity: calc(--value(integer) * 1%);
    opacity: --value(--opacity- *);
}

/* Or combined approach */
@utility tab-* {
    tab-size: --value(--tab-size- *, integer, [integer]);
}
```

### Negative Values

```css
@utility inset-* {
    inset: --spacing(--value(integer));
    inset: --value([percentage], [length]);
}

@utility -inset-* {
    inset: --spacing(--value(integer) * -1);
    inset: calc(--value([percentage], [length]) * -1);
}
```

### Modifiers

```css
@utility text-* {
    font-size: --value(--text- *, [length]);
    line-height: --modifier(--leading- *, [length], [ *]);
}
```

### Fractions

```css
@utility aspect-* {
    aspect-ratio: --value(--aspect-ratio- *, ratio, [ratio]);
}
```

## 13. Custom Variants

### Basic Custom Variant

```css
@custom-variant theme-midnight {
    &:where([data-theme="midnight"] *) {
        @slot;
    }
}
```

**Usage:**

```html
<html data-theme="midnight">
    <button class="theme-midnight:bg-black theme-midnight:text-white">Midnight Theme Button</button>
</html>
```

### Shorthand Syntax

```css
@custom-variant theme-midnight (&:where([data-theme="midnight"] *));
```

### Complex Variants with Nesting

```css
@custom-variant any-hover {
    @media (any-hover: hover) {
        &:hover {
            @slot;
        }
    }
}
```

## Best Practices Summary

1. **Start with Theme Customization** - Define design tokens first
2. **Use Arbitrary Values Sparingly** - Prefer theme tokens for consistency
3. **Leverage Components Layer** - For truly reusable component styles
4. **Use Custom Utilities** - For missing CSS properties
5. **Create Custom Variants** - For complex selector patterns
6. **Maintain Consistency** - Follow Tailwind's naming conventions
7. **Document Custom Additions** - Keep track of custom utilities and variants
