# Chapter 4: Hoisting

### What is Hoisting?

-   Hoisting is JavaScript's behavior of moving declarations (variables and functions) to the top of their scope during the compilation phase.
-   Only the declarations are hoisted, not the assignments or initializations.

### Variable Hoisting

-   Example:
    ```javascript
    console.log(a); // undefined (not ReferenceError)
    var a = 2;
    ```
    -   The code is interpreted as:
        ```javascript
        var a; // Declaration hoisted
        console.log(a); // undefined
        a = 2; // Assignment remains in place
        ```

### Function Hoisting

-   Function declarations are fully hoisted (including their definitions).
    ```javascript
    foo(); // Works because the function is hoisted
    function foo() {
        console.log("Hello");
    }
    ```
-   Function expressions are not hoisted:
    ```javascript
    bar(); // TypeError (bar is undefined)
    var bar = function () {
        console.log("World");
    };
    ```

### Order of Hoisting

1. **Functions are hoisted first**, then variables.
2. Duplicate `var` declarations are ignored, but function declarations can override previous ones.

### Pitfalls and Best Practices

-   Avoid relying on hoisting for clarity. Declare variables and functions at the top of their scope.
-   Avoid duplicate declarations, especially mixing `var` and function declarations, as they can lead to unexpected behavior.
-   Function declarations inside blocks (e.g., `if` statements) are not reliable and should be avoided.

## Practical Implications

-   Hoisting explains why you can call functions before their declarations in the code.
-   Understanding hoisting helps debug issues where variables are `undefined` instead of throwing `ReferenceError`.

## Example Breakdown

```javascript
a = 2;
var a;
console.log(a); // 2
```

-   The declaration `var a` is hoisted, so `a` exists before the assignment.

```javascript
console.log(b); // undefined
var b = 3;
```

-   The declaration `var b` is hoisted, but the assignment happens later.

## Key Takeaways

1. Declarations are processed before code execution.
2. Assignments and logic remain in place.
3. Functions are hoisted before variables.
4. Avoid "hidden" hoisting by writing clear, organized code.
