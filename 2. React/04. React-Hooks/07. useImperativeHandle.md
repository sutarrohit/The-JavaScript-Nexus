## ğŸ”¹ What is `useImperativeHandle`?

-   A **React Hook** that lets you customize the value exposed by a **ref** when used with `forwardRef`.
-   Normally, refs point directly to DOM elements or component instances.
-   With `useImperativeHandle`, you can control **what methods or properties** are exposed to the parent component.

---

## ğŸ”¹ Syntax

```tsx
useImperativeHandle(ref, createHandle, [deps]);
```

### Parameters:

1. **`ref`** â€“ The `ref` passed from `forwardRef`.
2. **`createHandle`** â€“ A function that returns an object containing the properties/methods you want to expose.
3. **`[deps]`** â€“ (optional) Dependencies that determine when to update the handle.

---

## ğŸ”¹ When to use it?

-   To expose **imperative methods** of a child component to its parent.
-   When you want the parent to be able to call functions on the child (instead of just passing props).
-   Avoid overusing â€” prefer props and state for data flow. Use it only for special cases.

---

## ğŸ”¹ Example: Custom Input Focus

```tsx
import React, { useRef, useImperativeHandle, forwardRef } from "react";

// Child Component
const CustomInput = forwardRef((props, ref) => {
    const inputRef = useRef<HTMLInputElement>(null);

    useImperativeHandle(ref, () => ({
        focus: () => {
            inputRef.current?.focus();
        },
        clear: () => {
            if (inputRef.current) inputRef.current.value = "";
        }
    }));

    return <input ref={inputRef} type='text' />;
});

// Parent Component
const Parent = () => {
    const inputRef = useRef<{ focus: () => void; clear: () => void }>(null);

    return (
        <div>
            <CustomInput ref={inputRef} />
            <button onClick={() => inputRef.current?.focus()}>Focus</button>
            <button onClick={() => inputRef.current?.clear()}>Clear</button>
        </div>
    );
};

export default Parent;
```

ğŸ‘‰ Here, the parent can call `focus()` or `clear()` on the child component via `ref`.

---

## ğŸ”¹ Best Practices

-   âœ… Use when you need to **control a childâ€™s behavior from the parent**.
-   âœ… Great for custom form inputs, animations, or scroll handling.
-   âŒ Donâ€™t overuse â€” it breaks the usual **declarative data flow** of React.
-   âŒ Donâ€™t expose entire child internals â€” only **necessary methods**.

---

## ğŸ”¹ Analogy

Think of `useImperativeHandle` as creating a **remote control**:

-   The child is a TV (complex internals hidden).
-   The parent only gets a **remote** (focus, clear, play, pause) instead of full access to the TV internals.
